sequenceDiagram
    participant User
    participant MainLayout
    participant EditorStore
    participant MermaidEditor
    participant MermaidPreview
    User->>MainLayout: モード切替ボタンをクリック
    MainLayout->>EditorStore: setViewMode(tabId, nextMode)
    EditorStore-->>MainLayout: viewMode更新
    MainLayout->>MermaidEditor: editorモードの場合、エディタ表示
    MainLayout->>MermaidPreview: previewモードの場合、プレビュー表示
    MainLayout->>MermaidEditor: splitモードの場合、両方表示
    Note over MainLayout: 状態に応じて表示を切り替え
